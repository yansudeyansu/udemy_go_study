# RDBMSとRedisの比較

Redisについて解説する前に、まずは両者の仕組みをイメージしやすいような形で図式化します。

## RDBMSの仕組みのイメージ

- データベースは「机」「本棚」「司書」で構成
- ユーザーは司書に本の取り出しを依頼
- 複数の本を同時に参照可能
- 複雑な検索条件にも対応
- 司書は慎重に作業を行うため処理は遅い
- 本は必ず本棚に戻して安全に管理

### RDBMSの長所・短所

長所:
- 安全なデータ管理
- 豊富な検索機能

短所:
- 処理速度が遅い

## Redisの仕組みのイメージ

基本構造:
- 本棚なし、データは机上で管理
- データは緩やかに整理（シリーズ順、関連性など）
- 「机マスター」が高速にデータを取得
- スペース不足時は机と机マスターを追加

スケーリング:
- 単一の大きな管理も技術的には可能
- 高速性重視のため、分散管理が一般的

### Redisの長所・短所

長所:
- 高速な処理速度

短所:
- 単純なデータ構造のみ対応
- 複雑な検索不可
- データ管理の安全性に制限


# 認証・認可の基本概念

## 認証(Authentication)とは
- ユーザーが本人であることを確認するプロセス
- 一般的な例:
  - ユーザーID/パスワードによるログイン
  - ワンタイムパスワード(OTP)

## 認可(Authorization)とは
- 認証済みユーザーに対して適切な権限を付与すること
- アクセス制御の例:
  - 管理者権限
  - 一般ユーザー権限
  - 読み取り専用権限
  - 特定リソースへのアクセス権限

## フェデレーション認証

### 概要
- 外部の認証サービスと連携して認証を行う仕組み
- 「パスポートによる本人確認」のようなイメージ

### 認証の流れ
1. ユーザーがアプリにアクセス
2. アプリが外部認証サービス(Google等)にリダイレクト
3. ユーザーが外部サービスでログイン
4. 外部サービスがアプリに認証情報を返却
5. アプリがユーザーを認証

### 代表的な例(OAuth2.0)
- Google
  - Gmailアカウントでログイン
- Facebook
  - Facebookアカウントでログイン  
- Twitter
  - Twitterアカウントでログイン
- GitHub
  - GitHubアカウントでログイン

### メリット
- ユーザー視点
  - 新規登録不要
  - パスワード管理が楽
- 開発者視点  
  - 認証基盤の開発・運用コスト削減
  - セキュリティ対策を外部委託


## シングルサインオン（SSO）
- 複数のアプリケーションに対して一度の認証でアクセスできるようにする仕組み
- ユーザーが一度認証を行えば、その認証情報を使って複数のアプリケーションにアクセスできる
- ユーザー視点では、一度のログインで複数のアプリケーションにアクセスできるため利便性が高い
- 開発者視点では、認証基盤の開発・運用コストを削減できる

